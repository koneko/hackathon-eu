<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Students & Teachers Achieving Results</title>
		<link rel="stylesheet" href="/css/navbar.css" />
		<link rel="stylesheet" href="/css/general.css" />
		<script
			src="https://kit.fontawesome.com/11fc85fa63.js"
			crossorigin="anonymous"
		></script>
		<link
			rel="icon"
			href="https://hub.koneko.link/cdn/icons/blue.png"
			type="image/gif"
			sizes="16x16"
		/>
		<meta property="og:title" content="Fill later." />
		<meta name="description" content="Fill later." />
		<meta property="og:description" content="Fill later." />
		<meta property="og:site_name" content="Fill later." />
		<meta name="twitter:card" content="Fill later." />
		<meta property="twitter:title" content="Fill later." />
		<style>
			.sigma {
				width: 1900px;
				height: 1000px;
				text-align: left;
				/* border: 2px solid #000; */
				/* border-radius: 10px; */
				margin: 20px auto;
				/* background-color: #f0f0f0; */
			}
			button {
				color: white;
				background-color: rgb(59, 179, 235);
				border: none;
				padding: 10px 20px;
				border-radius: 5px;
				cursor: pointer;
				font-size: 14px;
			}
			button:hover {
				background-color: rgb(45, 140, 185);
			}
		</style>
	</head>
	<body>
		<ul class="navbar">
			<li>
				<a href="/" style="font-weight: bold"
					>Students & Teachers Achieving Results</a
				>
			</li>
			<li><a href="/discover">Discover</a></li>
			<li style="float: right">
				<a href="/account" id="account-label">Account</a>
			</li>
		</ul>
		<main id="main">Please login.</main>
	</body>
	<script src="/js/sessionCheck.js"></script>
	<script src="/js/getProfilePhoto.js"></script>
	<script>
		async function getAccount() {
			let x = await fetch("/api/getAccountByID", {
				method: "POST",
				headers: {
					"Content-Type": "application/json",
				},
				body: JSON.stringify({
					user_id: localStorage.getItem("STAR_user_id"),
				}),
			});
			let f = await x.json();
			console.log(f);
			document.getElementById("main").innerHTML = `
			<div class="sigma">
				<img
			src="${await getProfilePhoto(localStorage.getItem("STAR_user_id"))}"
			width="128"
			height="128"
			style="
				border-radius: 50%;
				border: 2.5px solid #000;"/>
				<h1>${f.ime} ${f.prezime}</h1>
				<p>Account type: ${f.accountType}</p>
				<p>Selected tags: ${JSON.parse(f.tags).join(", ")}</p>
				<button>Edit account details</button>
				<button>Link external accounts</button>
				<button>Upload profile photo</button>
			</div>
				`;
		}
		getAccount();
	</script>
</html>
